<div id="reset-zoom"><a class="btn btn-light">Reset zoom</a></div>
<div id="canvas-container"></div>
<div id="canvas-exporter"></div>

<form id="setup" onsubmit="return false">
    <div id="view-menu">
        <!--        <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="big-chart" checked>
                    <label class="custom-control-label" for="big-chart">Big chart</label>
                </div>-->
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="axes-options-switch" checked>
            <label class="custom-control-label" for="axes-options-switch">Axes options</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="outbreak-switch" checked data-target="#outbreak-container">
            <label class="custom-control-label" for="outbreak-switch">Outbreak shift</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="plot-options-switch">
            <label class="custom-control-label" for="plot-options-switch">Plot options</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="plot-multiple-switch" data-target="#plot-new, #plot-stack" data-parent="#plot-options-switch">
            <label class="custom-control-label" for="plot-multiple-switch">Allow multiple plots</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="plot-figure-switch" data-target=".plot-figure" data-parent="#plot-multiple-switch">
            <label class="custom-control-label" for="plot-figure-switch">Allow multiple figures</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="y-axis-independency-switch" data-target=".y-axis" data-parent="#plot-multiple-switch">
            <label class="custom-control-label" for="y-axis-independency-switch">Allow multiple y-axis</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="export-switch">
            <label class="custom-control-label" for="export-switch">Export</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="export-data-switch" data-target="#export-data">
            <label class="custom-control-label" for="export-data-switch">Data table</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="territory-options-switch" checked>
            <label class="custom-control-label" for="territory-options-switch">Territory options</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="credits-switch" checked>
            <label class="custom-control-label" for="credits-switch">Credits</label>
        </div>
        <!--        <div title="TEST XXX" class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="help-switch" checked>
                    <label class="custom-control-label" for="help-switch">Help cursor</label>
                </div>-->

        <div class="range-container custom-handler range-hide-legend">
            <label for="chart-size">Figure size:</label>
            <div>
                <input type="range" id="chart-size" min="33" max="150"  value="85" />  <!-- default value should be the same as in style.less -->
            </div>
        </div>
    </div>


    <div id="axes-options">

        <div class="range-container">
            <label for="day-range">Days visible:</label>
            <div>
                <input type="range" id="day-range" max="25"/>
            </div>
        </div>

        <div class="range-container range-hide-legend range-short">
            Axes:
            <div>
                <input type="range" id="x-axis-type" data-legend="#x-axis-type-legend"/>
            </div>
        </div>
        <span class="range-legend" id="x-axis-type-legend"></span>
        <!--        <div> XXX
                    <input class="refresh" type="checkbox"  id="log-switch" value="on" checked>
                    <label for="log-switch">Log scale</label>
                </div>-->
    </div>

    <div class="range-container" id="outbreak-container">
            <div>
                <input class="refresh" type="checkbox"  id="outbreak-on" value="off">
                <label for="outbreak-on">Outbreak</label>
            </div>
            <div>
                <label><input type="checkbox"  id="outbreak-mode" value="off">~ population</label>
            </div>
            <div>
                <input type="number" min="1" id="outbreak-value" value="1" />
                <!--                <label><input type="radio" name="outbreak-mode" id="outbreak-confirmed" value="1"/> confirmed cases</label>
                                <label><input type="radio" name="outbreak-mode" id="outbreak-population" value="2"/> 1/100 000 of population</label>-->
            </div>
            <div id="outbreak-threshold-container">
                <input type="range" id="outbreak-threshold" value="1" data-input="#outbreak-value">
            </div>
        </div>

    <div id="plot-options">
        <div>

            Plot expression: <input type="text" id="plot-expression" placeholder="NR+ND" value="C"/>
            <div class="range-container range-hide-legend range-short">
                <div>
                    <input type="range" id="plot-type" />
                </div>
            </div>
            <input class="refresh" type="checkbox"  id="sum-territories" value="off" title="Sum territories into single curve">
            <label for="sum-territories">aggregate</label>
            <a id="plot-new" class="btn btn-light">+</a>
            <div id="plot-stack"></div>
        </div>
        <p id="plot-hint">
            Put any arithmetic expression using <code>C</code>/<code>R</code>/<code>D</code> (confirmed/recovered/death),
            <code>NC</code>/<code>NR</code>/<code>ND</code> (newly confirmed/recovered/death cases),
            <code>dNC</code>/<code>dNR</code>/<code>dND</code> (derivation of newly added cases),
            <code>dC</code> (derivation of cumulative confirmed cases), or <code>P</code> (population) while <code>%</code>=10^2, <code>k</code>=10^3 and <code>M</code>=10^6.
            <br>Ex: <code>R/(C+R+D)</code>: <i>Total recovered ratio.</i> <code>NR+ND</code>: <i>Newly closed cases.</i>
            <code>P/C</code>: <i>Every n-th person is confirmed.</i>
            <code>C/P</code>: <i>Nth part of the population is confirmed.</i>
            <code>C%/P</code>: <i>Nth-percent of the population is confirmed.</i>
            <code>CM/P</code>: <i>N people is confirmed in every million of citizens.</i>
        </p>
        <div class="alert alert-warning" id="plot-alert"></div>
    </div>

    <div id="export">
        <a class="btn btn-light" id="export-image">Download image</a>
        <a class="btn btn-light" id="export-csv">Download table</a>
        <a class="btn btn-light" id="export-json">Download json</a>
        <a class="btn btn-light" id="share-menu-button" data-toggle="modal" data-target="#share-menu">Share</a>

        <!-- Modal -->
        <div class="modal fade" id="share-menu" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">Share by link</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <input id="export-link" class="copyinput nohash" type="text" size="40" readonly/>
                        <br>
                        <a id="share-facebook" href="">Share on Facebook</a>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>



    </div>
    <table id="export-data" class="table-bordered">

    </table>
</form>

<div class="container" id="territory-options">
    <div class="row">
        <div class="col-md">
            <h1>State <span></span></h1>
        </div>
        <div class="col-md">
            <h1>Country <span></span></h1>
        </div>
        <div class="col-md">
            <h1>Continent <span></span></h1>
        </div>
    </div>

    <div id="territories-legend" class="row">
        <div class="col-md">
            <span class='off'>‚òÜ</span> ‚Äì hightlight curve
            <span>üëÅ</span> ‚Äì show/hide all non-active descendants
            <span class='off'>‚úì</span> ‚Äì activate all children curves
        </div>
        <div class="col-md-4">
            <a id="uncheck-all">Uncheck all</a>
        </div>
    </div>

    <div id="territories" class="row">
        <div class="col-md-3">
        </div>
        <div class="col-md-6" id="countries-cell">
        </div>
        <div class="col-md-3">
        </div>
    </div>
</div>

<div id="credits">
    <p>
        <br><br>
        Source: <a href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data">Johns Hopkins CSSE</a> (data updated once a day)
        <br>
        Help development at <a href="https://github.com/e3rd/covid-19/tree/master/">github</a>.
        <br>
    </p>
    <p>
        Disclaimer: The chart is based only on cases of infection confirmed by testing. Due to the varying amounts of testing done in different countries, real numbers of cases may be very different.
    </p>
</div>