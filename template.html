<div id="reset-zoom"><a class="btn btn-light">Reset zoom</a></div>
<div id="canvas-container"></div>
<div id="canvas-exporter"></div>

<form id="setup" onsubmit="return false">
    <div id="view-menu">
        <!--        <div class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="big-chart" checked>
                    <label class="custom-control-label" for="big-chart">Big chart</label>
                </div>-->
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="axes-options-switch" checked>
            <label class="custom-control-label" for="axes-options-switch">Axes</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="outbreak-switch" checked data-target="#outbreak-container">
            <label class="custom-control-label" for="outbreak-switch">Computation</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="equation-options-switch">
            <label class="custom-control-label" for="equation-options-switch">Equation</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="equation-multiple-switch" data-target="#equation-new, #equation-stack" data-parent="#equation-options-switch">
            <label class="custom-control-label" for="equation-multiple-switch">Multiple equations</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="equation-figure-switch" data-target=".equation-figure" data-parent="#equation-multiple-switch">
            <label class="custom-control-label" for="equation-figure-switch">Multiple figures</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="y-axis-independency-switch" data-target=".y-axis" data-parent="#equation-multiple-switch">
            <label class="custom-control-label" for="y-axis-independency-switch">Multiple y-axis</label>
        </div>

        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="display-menu-switch" data-target="#display-menu">
            <label class="custom-control-label" for="display-menu-switch">Display menu</label>
        </div>

        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="export-switch">
            <label class="custom-control-label" for="export-switch">Export</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="export-data-switch" data-target="#export-data">
            <label class="custom-control-label" for="export-data-switch">Data table</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="territory-options-switch" checked>
            <label class="custom-control-label" for="territory-options-switch">Territory options</label>
        </div>
        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="credits-switch" checked>
            <label class="custom-control-label" for="credits-switch">Credits</label>
        </div>
        <!--        <div title="TEST XXX" class="custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" id="help-switch" checked>
                    <label class="custom-control-label" for="help-switch">Help cursor</label>
                </div>-->

        <div class="range-container custom-handler range-hide-legend">
            <label for="chart-size">Figure size:</label>
            <div>
                <input type="range" id="chart-size" min="33" max="150"  value="85" />  <!-- default value should be the same as in style.less -->
            </div>
        </div>
    </div>


    <div id="axes-options">

        <div class="range-container range-hide-legend range-short">
            Axes:
            <div>
                <input type="range" id="axes-type" />  <!--data-legend="#axes-type-legend"-->
            </div>
<!--            <span class="range-legend" id="axes-type-legend"></span>-->
        </div>

        <div class="range-container">
            <label for="day-range">Days visible:</label>
            <div>
                <input type="range" id="day-range" max="25"/>
            </div>
            <input class="refresh" type="checkbox"  id="single-day">
            <label title="Toggle using single day / day range" for="single-day">Single day</label>
        </div>
    </div>


    <div class="range-container" id="outbreak-container">
        <input class="refresh" type="checkbox"  id="average">
        <label title="Toggle using absolute values / last 7 days averaged values" for="average">Average</label>

        <div>
            <input class="refresh" type="checkbox"  id="outbreak-on" value="off">
            <label title="Turn on outbreak shift -> dataset will start the day when confirmed cases in the given territory reaches certain the number" for="outbreak-on">Outbreak</label>
        </div>
        <div>
            <label><input type="checkbox"  id="outbreak-mode" value="off">~ population</label>
        </div>
        <div>
            <input type="number" min="1" id="outbreak-value" value="1" />
            <!--                <label><input type="radio" name="outbreak-mode" id="outbreak-confirmed" value="1"/> confirmed cases</label>
                            <label><input type="radio" name="outbreak-mode" id="outbreak-population" value="2"/> 1/100 000 of population</label>-->
        </div>
        <div id="outbreak-threshold-container">
            <input type="range" id="outbreak-threshold" value="1" data-input="#outbreak-value">
        </div>
    </div>

    <div id="equation-options">
        <div>

            Equation: <input type="text" id="equation-expression" placeholder="NR+ND" value="C"/>
            <div class="range-container range-hide-legend range-short">
                <div>
                    <input type="range" id="equation-type" />
                </div>
            </div>
            <!--            <span>
                            <input class="refresh" type="checkbox"  id="percentage" value="off" title="Stack on 100 %">
                            <label for="percentage">percent</label>
                        </span>-->
            <input class="refresh" type="checkbox"  id="sum-territories" value="off">
            <label title="Sum territories into single curve" for="sum-territories">aggregate</label>
            <a id="equation-new" class="btn btn-light">+</a>
            <div id="equation-stack"></div>
        </div>
        <p id="equation-hint">
            Put any arithmetic expression using <code>C</code>/<code>R</code>/<code>D</code>/<code>T</code> (confirmed/recovered/death/tested),
            <code>NC</code>/<code>NR</code>/<code>ND</code>/<code>NT</code> (newly confirmed/recovered/death/tested cases),
            <code>dNC</code>/<code>dNR</code>/<code>dND</code>/<code>dNT</code> (derivation of newly added cases),
            <code>dC</code> (derivation of cumulative confirmed cases = <code>NC-ND-NR</code>), or <code>P</code> (population) while <code>%</code>=10^2, <code>k</code>=10^3 and <code>M</code>=10^6.
            Note that `tested` are available for Czechia only.
            <br>Ex: <code>R/(C+R+D)</code>: <i>Total recovered ratio.</i> <code>NR+ND</code>: <i>Newly closed cases.</i>
            <code>P/C</code>: <i>Every n-th person is confirmed.</i>
            <code>C/P</code>: <i>Nth part of the population is confirmed.</i>
            <code>C%/P</code>: <i>Nth-percent of the population is confirmed.</i>
            <code>CM/P</code>: <i>N people is confirmed in every million of citizens.</i>
        </p>
        <div class="alert alert-warning" id="equation-alert"></div>
    </div>

    <div id="display-menu">
        <div class="range-container range-hide-legend range-short">
            <label for="tooltip-sorting">Tooltip sorting:</label>
            <div>
                <input type="range" id="tooltip-sorting" />
            </div>
        </div>

        <!-- XX tooltips decimal places (?)-->

        <div class="range-container range-hide-legend range-short">
            <label for="color-style">Colours:</label>
            <div>
                <input type="range" id="color-style"/>
            </div>
        </div>

        <div class="range-container range-hide-legend range-short">
            <label title="By default, labels are shown in bar chart only figures" for="data-labels">Data labels:</label>
            <div>
                <input type="range" id="data-labels" />
            </div>
        </div>

        <div class="range-container range-hide-legend range-short">
            <label for="day-range">Mouse drag:</label>
            <div>
                <input type="range" id="mouse-drag" />
            </div>
        </div>

    </div>

    <div id="export">
        <a class="btn btn-light" id="export-image">Download image</a>
        <a class="btn btn-light" id="export-csv">Download table</a>
        <a class="btn btn-light" id="export-json">Download json</a>
        <a class="btn btn-light" id="share-menu-button" data-toggle="modal" data-target="#share-menu">Share</a>

        <!-- Modal -->
        <div class="modal fade" id="share-menu" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalCenterTitle">Share by link</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <input id="export-link" class="copyinput nohash" type="text" size="40" readonly/>
                        <br>
                        <a id="share-facebook" href="">Share on Facebook</a>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>



    </div>
    <table id="export-data" class="table-bordered">

    </table>
</form>

<div class="container" id="territory-options">
    <div class="row">
        <div class="col-md">
            <h1>State <span></span></h1>
        </div>
        <div class="col-md">
            <h1>Country <span></span></h1>
        </div>
        <div class="col-md">
            <h1>Continent <span></span></h1>
        </div>
    </div>

    <div id="territories-legend" class="row">
        <div class="col-md">
            <span class='off'>☆</span> – hightlight curve
            <span>👁</span> – show/hide all non-active descendants
            <span class='off'>✓</span> – activate all children curves
        </div>
        <div class="col-md-4">
            <a id="uncheck-all">Uncheck all</a>
        </div>
    </div>

    <div id="territories" class="row">
        <div class="col-md-3">
        </div>
        <div class="col-md-6" id="countries-cell">
        </div>
        <div class="col-md-3">
        </div>
    </div>
</div>

<div id="credits">
    <p>
        <br><br>
        Source: <a href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data">Johns Hopkins CSSE</a> (data updated once a day)
        <br>
        Help development at <a href="https://github.com/e3rd/covid-19/tree/master/">github</a>.
        <br>
    </p>
    <p>
        Disclaimer: The chart is based only on cases of infection confirmed by testing. Due to the varying amounts of testing done in different countries, real numbers of cases may be very different.
    </p>
</div>